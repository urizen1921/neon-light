{"ast":null,"code":"var _jsxFileName = \"/home/urizen1921/Documents/gitHubProjects/neon-lights/neon/client/src/views/timeline.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport authSvg from \"../assets/update.svg\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport axios from 'axios';\nimport { updateUser, isAuth, getCookie, signout } from '../helpers/auth.js';\nimport { addPost } from '../service/api.js';\n\nconst Timeline = ({\n  history\n}) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    _id: '',\n    email: '',\n    password1: '',\n    textChange: 'Update',\n    role: ''\n  });\n  const [post, setPost] = useState('');\n  const [data, setData] = useState({});\n  const [isSending, setIsSending] = useState(false);\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = () => {\n    const token = getCookie('token');\n    console.log(token);\n    axios.get(`${process.env.REACT_APP_API_URL}/user/${isAuth()._id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      const {\n        role,\n        name,\n        email,\n        _id\n      } = res.data;\n      setFormData({ ...formData,\n        role,\n        name,\n        email,\n        _id\n      });\n      console.log(res);\n    }).catch(err => {\n      console.log(err.response);\n      toast.error(`Error in your information: ${err.response}`);\n\n      if (err.response === 401) {\n        signout(() => {\n          history.push('/login');\n        });\n      }\n    });\n  };\n\n  const loadTimeLine = () => {\n    if (formData.name !== '') {\n      axios.get(\"http://localhost:8082/neon/api/all\").then(res => {\n        console.log(res);\n        console.log(res.data[0].likes.length);\n        console.log(formData);\n      });\n    } else {\n      toast.error('Not authorized.');\n    }\n  };\n\n  const handleChange = event => {\n    setPost(event.target.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setIsSending(true);\n  };\n\n  const postMethod = async () => {\n    addPost(\"http://localhost:8082/neon/api\");\n    console.log(post);\n    setIsSending(false);\n  };\n\n  const reWrite = () => {\n    setPost('');\n    setIsSending(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, \"User: \", formData.name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5\",\n    onClick: loadTimeLine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Load Timeline\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-full flex-1 mt-8 text-indigo-500\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"POST\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5\",\n    type: \"text\",\n    placeholder: \"Your Post\",\n    onChange: handleChange,\n    value: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), !isSending ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"mt-5 tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-plus fa 1x w-6  -ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"Send it\")) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, isSending ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5\",\n    onClick: postMethod,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"Send\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5\",\n    onClick: reWrite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, \"Re-Write\"))) : null));\n};\n\nexport default Timeline;","map":{"version":3,"sources":["/home/urizen1921/Documents/gitHubProjects/neon-lights/neon/client/src/views/timeline.jsx"],"names":["React","useState","useEffect","ToastContainer","toast","axios","updateUser","isAuth","getCookie","signout","addPost","Timeline","history","formData","setFormData","name","_id","email","password1","textChange","role","post","setPost","data","setData","isSending","setIsSending","loadProfile","token","console","log","get","process","env","REACT_APP_API_URL","headers","Authorization","then","res","catch","err","response","error","push","loadTimeLine","likes","length","handleChange","event","target","value","handleSubmit","preventDefault","postMethod","reWrite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport authSvg from '../assets/update.svg';\nimport { ToastContainer, toast } from 'react-toastify';\nimport axios from 'axios';\nimport { updateUser, isAuth, getCookie, signout } from '../helpers/auth.js';\nimport { addPost } from '../service/api.js';\n\n\nconst Timeline = ({ history }) => {\n\n  const [formData, setFormData] = useState({\n    name: '',\n    _id: '',\n    email: '',\n    password1: '',\n    textChange: 'Update',\n    role: ''\n  });\n\n  const [post, setPost] = useState('');\n  const [data, setData] = useState({});\n  const [isSending, setIsSending] = useState(false);\n\n  useEffect(() => {\n    loadProfile();\n  }, []);\n\n  const loadProfile = () => {\n    const token = getCookie('token');\n    console.log(token);\n    axios\n    .get(`${process.env.REACT_APP_API_URL}/user/${isAuth()._id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    })\n    .then(res => {\n      const { role, name, email, _id } = res.data;\n      setFormData({ ...formData, role, name, email, _id });\n      console.log(res);\n    })\n    .catch(err => {\n      console.log(err.response);\n      toast.error(`Error in your information: ${err.response}`);\n      if(err.response === 401) {\n        signout(() => {\n          history.push('/login');\n        });\n      }\n    });\n  };\n\n  const loadTimeLine = () => {\n\n    if(formData.name !== '') {\n      axios\n      .get(\"http://localhost:8082/neon/api/all\")\n      .then(res => {\n        console.log(res);\n        console.log(res.data[0].likes.length);\n        console.log(formData);\n      });\n    } else {\n      toast.error('Not authorized.');\n    }\n  };\n\n  const handleChange = (event) => {\n    setPost(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setIsSending(true);\n\n  };\n\n  const postMethod = async () => {\n\n    addPost(\"http://localhost:8082/neon/api\", \n    );\n\n    console.log(post);\n    setIsSending(false);\n\n  };\n\n  const reWrite = () => {\n    setPost('');\n    setIsSending(false);\n  }\n  \n  return (\n    <div>\n      <div>\n        User: {formData.name}\n      </div>\n      <div>\n        <button\n          className='w-full max-w-xs font-bold shadow-sm rounded-lg py-3\n          bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5'\n          onClick={loadTimeLine}\n        >\n          <i className='fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500' />\n          <span className='ml-4'>Load Timeline</span>\n        </button>\n      </div>\n      <div>\n        <form\n          className='w-full flex-1 mt-8 text-indigo-500'\n          onSubmit={handleSubmit}\n        >\n          <h2>\n            POST\n          </h2>\n          <input\n            className='w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5'\n            type='text'\n            placeholder='Your Post'\n            onChange={handleChange}\n            value={post}\n          />\n          {!isSending ? (\n            <button\n              type='submit'\n              className='mt-5 tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none'\n            >\n              <i className='fas fa-user-plus fa 1x w-6  -ml-2' />\n              <span className='ml-3'>Send it</span>\n            </button>\n          ) : null\n          }\n        </form>\n      </div>\n      <div>\n      {isSending ? (\n        <div>\n          <button\n            className='w-full max-w-xs font-bold shadow-sm rounded-lg py-3\n            bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5'\n            onClick={postMethod}\n          >\n            <i className='fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500' />\n            <span className='ml-4'>Send</span>\n          </button>\n          <button\n          className='w-full max-w-xs font-bold shadow-sm rounded-lg py-3\n          bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5'\n          onClick={reWrite}\n        >\n          <i className='fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500' />\n          <span className='ml-4'>Re-Write</span>\n        </button>\n        </div>\n      ) : null\n      }\n      </div>\n    </div>\n  )\n}\n\nexport default Timeline;\n"]},"metadata":{},"sourceType":"module"}